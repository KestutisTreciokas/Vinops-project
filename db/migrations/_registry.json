[
  {
    "id": "0001",
    "file": "0001_init.sql",
    "purpose": "Baseline: create tables (vehicles, lots, sale_events, images) without constraints",
    "rollback": "Not applicable in S-02 (no destructive ops); drop tables is forbidden",
    "timestamp_tz": "2025-09-21 00:02"
  },
  {
    "id": "0002",
    "file": "0002_constraints.sql",
    "purpose": "Add PK/FK/CHECK, VIN normalization & validation, uniqueness, essential non-destructive constraints",
    "rollback": "ALTER TABLE ... DROP CONSTRAINT IF EXISTS ...; DROP INDEX IF EXISTS ...;",
    "timestamp_tz": "2025-09-21 00:02"
  },
  {
    "id": "0003",
    "file": "0003_indexes.sql",
    "purpose": "Read-path indexes for catalog & VIN card",
    "rollback": "DROP INDEX IF EXISTS lots_status_auction_idx; DROP INDEX IF EXISTS lots_vin_idx; DROP INDEX IF EXISTS sale_events_vin_date_idx; DROP INDEX IF EXISTS images_vin_idx; DROP INDEX IF EXISTS images_lot_id_idx;",
    "timestamp_tz": "2025-09-21 00:02"
  }
]
